#!/usr/bin/env python3

import sys

from mpopt import qap, utils


if __name__ == '__main__':
    input_filename, = sys.argv[1:]
    with utils.smart_open(input_filename, 'rt') as f:
        model = qap.parse_dd_model(f)
    solver = qap.construct_gm_solver(model)
    print('initial lower bound: {}'.format(solver.lower_bound()))
    solver.run()
